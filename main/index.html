<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="author" content="Gerrit Meier, Michael Simons">
<title>The Neo4j Cypher-DSL</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock pre.nowrap,.literalblock pre.nowrap pre,.listingblock pre.nowrap,.listingblock pre.nowrap pre{white-space:pre;word-wrap:normal}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #dddddf}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>The Neo4j Cypher-DSL</h1>
<div class="details">
<span id="author" class="author">Gerrit Meier</span><br>
<span id="email" class="email"><a href="mailto:gerrit.meier@neo4j.com">gerrit.meier@neo4j.com</a></span><br>
<span id="author2" class="author">Michael Simons</span><br>
<span id="email2" class="email"><a href="mailto:michael.simons@neo4j.com">michael.simons@neo4j.com</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#purpose">1.1. Purpose</a></li>
<li><a href="#wheretouseit">1.2. Where to use it</a></li>
<li><a href="#javaapi">1.3. Java API</a></li>
</ul>
</li>
<li><a href="#getting-started">2. Getting started</a>
<ul class="sectlevel2">
<li><a href="#preparedependencies">2.1. Prepare dependencies</a></li>
<li><a href="#howtouseit">2.2. How to use it</a></li>
</ul>
</li>
<li><a href="#properties">3. Properties</a></li>
<li><a href="#functions">4. Functions</a>
<ul class="sectlevel2">
<li><a href="#lists">4.1. Lists</a></li>
<li><a href="#mathematicalfunctions">4.2. Mathematical functions</a></li>
<li><a href="#callingarbitraryproceduresandfunctions">4.3. Calling arbitrary procedures and functions</a></li>
</ul>
</li>
<li><a href="#appendix">5. Appendix</a>
<ul class="sectlevel2">
<li><a href="#changelog">Change log</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>&#169; 2020 Neo4j, Inc.,</p>
</div>
<div class="quoteblock abstract">
<blockquote>
<div class="paragraph">
<p>This is the Neo4j Cypher-DSL manual version 2020.1.7-SNAPSHOT.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p><em>Who should read this?</em></p>
</div>
<div class="paragraph">
<p>This manual is written for people interested in creating Cypher queries in a typesafe way on the JVM.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The Cypher-DSL is considered <em>EXPERIMENTAL</em> at the time of writing.
This means you can and should use it and that we are looking actively for feedback, issues and problems.
We will try to keep breaking changes to a minimum, but we reserve the right to modify public methods, parameters
and behaviour in case we need those changes for the <a href="https://github.com/neo4j/sdn-rx">SDN/RX</a> project, the origin of the Cypher-DSL.
All public classes inside <code>org.neo4j.cypherdsl</code> still subject to breaking changes are annotated with <code>@API(status = EXPERIMENTAL)</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="purpose"><a class="anchor" href="#purpose"></a>1.1. Purpose</h3>
<div class="paragraph">
<p>The Cypher-DSL has been developed with the needs of <a href="https://github.com/neo4j/sdn-rx">SDN/RX</a> in mind:
We wanted to avoid string concatenations in our query generation and decided do go with a builder approach, much like we
find with <a href="https://www.jooq.org">jOOQ</a> or in the relational module of <a href="https://github.com/spring-projects/spring-data-jdbc/tree/1.1.6.RELEASE/spring-data-relational/src/main/java/org/springframework/data/relational/core/sql">Spring Data JDBC</a>, but for Cypher.</p>
</div>
<div class="paragraph">
<p>What we don&#8217;t have - and don&#8217;t need for our mapping purpose - at the moment is a code generator that reads the database schema
and generates static classes representing labels and relationship types.
That is still up to the mapping framework (in our case SDN/RX).
We however have a type safe API for Cypher that allows only generating valid Cypher constructs.</p>
</div>
<div class="paragraph">
<p>We worked closely with the <a href="https://www.opencypher.org">OpenCypher spec</a> here and you find a lot of these concepts in the API.</p>
</div>
<div class="paragraph">
<p>The Cypher-DSL can also be seen in the same area as the <a href="https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/query/Criteria.html">Criteria API</a> of Spring Data Mongo.</p>
</div>
</div>
<div class="sect2">
<h3 id="wheretouseit"><a class="anchor" href="#wheretouseit"></a>1.2. Where to use it</h3>
<div class="paragraph">
<p>The Cypher-DSL creates an <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree">Abstract Syntax Tree (AST)</a> representing your Cypher-Statements.
An instance of a <code>org.neo4j.cypherdsl.core.Statement</code> representing that AST is provided at the end of query building step.
A <code>Renderer</code> is then used to create literal Java-Strings.
Those can be used in any context supporting String-based queries, for example with the <a href="https://github.com/neo4j/neo4j-java-driver">Neo4j Java driver</a> or inside embedded procedures and of course with Spring Data&#8217;s <a href="https://github.com/spring-projects/spring-data-neo4j/blob/master/src/main/java/org/springframework/data/neo4j/core/Neo4jClient.java">Neo4j-Client</a>.</p>
</div>
<div class="paragraph">
<p>Parameters in the generated queries will use the <code>$form</code> and as such be compatible with all current versions of Neo4j.</p>
</div>
<div class="paragraph">
<p>Users of SDN/RX respectively SDN 6 can use the generated <code>org.neo4j.cypherdsl.core.Statement</code> directly with the <code>Neo4jTemplate</code> or the <code>ReactiveNeo4jTemplate</code>.
Both the imperative and the reactive variants allow the retrieval and counting of entities without rendering a String first,
for example through <code>Neo4jTemplate#findAll(Statement, Class&lt;T&gt;)</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="javaapi"><a class="anchor" href="#javaapi"></a>1.3. Java API</h3>
<div class="paragraph">
<p>Find the Java-API and a generated project info here: <a href="project-info/apidocs/index.html">API</a> and <a href="project-info/index.html">project info</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started"><a class="anchor" href="#getting-started"></a>2. Getting started</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="preparedependencies"><a class="anchor" href="#preparedependencies"></a>2.1. Prepare dependencies</h3>
<div class="paragraph">
<p>Please use a dependency management system. We recommend either Maven or Gradle.</p>
</div>
<div class="sect3">
<h4 id="mavenconfiguration"><a class="anchor" href="#mavenconfiguration"></a>2.1.1. Maven configuration</h4>
<div class="listingblock">
<div class="title">Listing 1. Inclusion of the Neo4j Cypher-DSL in a Maven project</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.neo4j<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>neo4j-cypher-dsl<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>2020.1.7-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gradleconfiguration"><a class="anchor" href="#gradleconfiguration"></a>2.1.2. Gradle configuration</h4>
<div class="listingblock">
<div class="title">Listing 2. Inclusion of the Neo4j Cypher-DSL in a Gradle project</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">dependencies {
    implementation <span class="string"><span class="delimiter">'</span><span class="content">org.neo4j:neo4j-cypher-dsl:2020.1.7-SNAPSHOT</span><span class="delimiter">'</span></span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="howtouseit"><a class="anchor" href="#howtouseit"></a>2.2. How to use it</h3>
<div class="paragraph">
<p>You use the Cypher-DSL as you would write Cypher:
It allows to write down even complex Cypher queries from top to bottom in a type safe, compile time checked way.</p>
</div>
<div class="paragraph">
<p>The examples to follow are using JDK 11.
We find the <code>var</code> keyword especially appealing in such a DSL as the types returned by the DSL much less important than
the further building methods they offer.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The AST parts and intermediate build steps are immutable. That is, the methods create new intermediate steps.
For example, you cannot reuse an <code>ExposesLimit</code> step, but have to use the returned object from its <code>skip</code> method.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An instance of a <code>org.neo4j.cypherdsl.core.Statement</code> is provided at the end of every query building step.
This <code>Statement</code> needs to be rendered into a string or passed to methods supporting it as input.</p>
</div>
<div class="paragraph">
<p>Please get an instance of the default renderer via <code>org.neo4j.cypherdsl.renderer.Renderer#getDefaultRenderer()</code>.
The renderer provides a single method <code>render</code> for rendering the AST into a string representation.</p>
</div>
<div class="sect3">
<h4 id="examples"><a class="anchor" href="#examples"></a>2.2.1. Examples</h4>
<div class="paragraph">
<p>The following examples are 1:1 copies of the queries you will find in the Neo4j browser after running <code>:play movies</code>.</p>
</div>
<div class="paragraph">
<p>They use the following imports:</p>
</div>
<div class="listingblock">
<div class="title">Listing 3. Imports needed for the examples to compile</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.assertj.core.api.Assertions.assertThat</span>;

<span class="keyword">import</span> <span class="include">org.neo4j.cypherdsl.core.Cypher</span>;
<span class="keyword">import</span> <span class="include">org.neo4j.cypherdsl.core.Conditions</span>;
<span class="keyword">import</span> <span class="include">org.neo4j.cypherdsl.core.Functions</span>;
<span class="keyword">import</span> <span class="include">org.neo4j.cypherdsl.core.Statement</span>;
<span class="keyword">import</span> <span class="include">org.neo4j.cypherdsl.core.SymbolicName</span>;
<span class="keyword">import</span> <span class="include">org.neo4j.cypherdsl.core.renderer.Renderer</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To match and return all the movie, build your statement like this:</p>
</div>
<div class="listingblock">
<div class="title">Listing 4. Simple match</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var m = Cypher.node(<span class="string"><span class="delimiter">&quot;</span><span class="content">Movie</span><span class="delimiter">&quot;</span></span>).named(<span class="string"><span class="delimiter">&quot;</span><span class="content">m</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="1"></i><b>(1)</b>
var statement = Cypher.match(m) <i class="conum" data-value="2"></i><b>(2)</b>
        .returning(m)
        .build(); <i class="conum" data-value="3"></i><b>(3)</b>

assertThat(cypherRenderer.render(statement))
        .isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">MATCH (m:`Movie`) RETURN m</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Declare a variable storing your node labeled <code>Movie</code> and named <code>m</code>, so that you can</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>reuse it in both the match and the return part.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>build</code> method becomes only available when a compilable Cypher statement can be rendered.</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="find"><a class="anchor" href="#find"></a>Find</h5>
<div class="paragraph">
<p>Match all nodes with a given set of properties:</p>
</div>
<div class="listingblock">
<div class="title">Listing 5. Find the actor named "Tom Hanks"&#8230;&#8203;</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var tom = Cypher.anyNode().named(<span class="string"><span class="delimiter">&quot;</span><span class="content">tom</span><span class="delimiter">&quot;</span></span>).withProperties(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, Cypher.literalOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Tom Hanks</span><span class="delimiter">&quot;</span></span>));
var statement = Cypher
        .match(tom).returning(tom)
        .build();

assertThat(cypherRenderer.render(statement))
        .isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">MATCH (tom {name: 'Tom Hanks'}) RETURN tom</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Limit the number of returned things and return only one attribute</p>
</div>
<div class="listingblock">
<div class="title">Listing 6. Find 10 people&#8230;&#8203;</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var people = Cypher.node(<span class="string"><span class="delimiter">&quot;</span><span class="content">Person</span><span class="delimiter">&quot;</span></span>).named(<span class="string"><span class="delimiter">&quot;</span><span class="content">people</span><span class="delimiter">&quot;</span></span>);
statement = Cypher
        .match(people)
        .returning(people.property(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>))
        .limit(<span class="integer">10</span>)
        .build();

assertThat(cypherRenderer.render(statement))
        .isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">MATCH (people:`Person`) RETURN people.name LIMIT 10</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create complex conditions</p>
</div>
<div class="listingblock">
<div class="title">Listing 7. Find movies released in the 1990s&#8230;&#8203;</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var nineties = Cypher.node(<span class="string"><span class="delimiter">&quot;</span><span class="content">Movie</span><span class="delimiter">&quot;</span></span>).named(<span class="string"><span class="delimiter">&quot;</span><span class="content">nineties</span><span class="delimiter">&quot;</span></span>);
var released = nineties.property(<span class="string"><span class="delimiter">&quot;</span><span class="content">released</span><span class="delimiter">&quot;</span></span>);
statement = Cypher
        .match(nineties)
        .where(released.gte(Cypher.literalOf(<span class="integer">1990</span>)).and(released.lt(Cypher.literalOf(<span class="integer">2000</span>))))
        .returning(nineties.property(<span class="string"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>))
        .build();

assertThat(cypherRenderer.render(statement))
        .isEqualTo(
                <span class="string"><span class="delimiter">&quot;</span><span class="content">MATCH (nineties:`Movie`) WHERE (nineties.released &gt;= 1990 AND nineties.released &lt; 2000) RETURN nineties.title</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="query"><a class="anchor" href="#query"></a>Query</h5>
<div class="paragraph">
<p>Build relationships</p>
</div>
<div class="listingblock">
<div class="title">Listing 8. List all Tom Hanks movies&#8230;&#8203;</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var tom = Cypher.node(<span class="string"><span class="delimiter">&quot;</span><span class="content">Person</span><span class="delimiter">&quot;</span></span>).named(<span class="string"><span class="delimiter">&quot;</span><span class="content">tom</span><span class="delimiter">&quot;</span></span>).withProperties(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, Cypher.literalOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Tom Hanks</span><span class="delimiter">&quot;</span></span>));
var tomHanksMovies = Cypher.anyNode(<span class="string"><span class="delimiter">&quot;</span><span class="content">tomHanksMovies</span><span class="delimiter">&quot;</span></span>);
var statement = Cypher
        .match(tom.relationshipTo(tomHanksMovies, <span class="string"><span class="delimiter">&quot;</span><span class="content">ACTED_IN</span><span class="delimiter">&quot;</span></span>))
        .returning(tom, tomHanksMovies)
        .build();

assertThat(cypherRenderer.render(statement))
        .isEqualTo(
                <span class="string"><span class="delimiter">&quot;</span><span class="content">MATCH (tom:`Person` {name: 'Tom Hanks'})-[:`ACTED_IN`]-&gt;(tomHanksMovies) RETURN tom, tomHanksMovies</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 9. Who directed "Cloud Atlas"?</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var cloudAtlas = Cypher.anyNode(<span class="string"><span class="delimiter">&quot;</span><span class="content">cloudAtlas</span><span class="delimiter">&quot;</span></span>).withProperties(<span class="string"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>, Cypher.literalOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Cloud Atlas</span><span class="delimiter">&quot;</span></span>));
var directors = Cypher.anyNode(<span class="string"><span class="delimiter">&quot;</span><span class="content">directors</span><span class="delimiter">&quot;</span></span>);
statement = Cypher
        .match(cloudAtlas.relationshipFrom(directors, <span class="string"><span class="delimiter">&quot;</span><span class="content">DIRECTED</span><span class="delimiter">&quot;</span></span>))
        .returning(directors.property(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>))
        .build();

assertThat(cypherRenderer.render(statement))
        .isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">MATCH (cloudAtlas {title: 'Cloud Atlas'})&lt;-[:`DIRECTED`]-(directors) RETURN directors.name</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 10. Tom Hanks' co-actors&#8230;&#8203;</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">tom = Cypher.node(<span class="string"><span class="delimiter">&quot;</span><span class="content">Person</span><span class="delimiter">&quot;</span></span>).named(<span class="string"><span class="delimiter">&quot;</span><span class="content">tom</span><span class="delimiter">&quot;</span></span>).withProperties(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, Cypher.literalOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Tom Hanks</span><span class="delimiter">&quot;</span></span>));
var movie = Cypher.anyNode(<span class="string"><span class="delimiter">&quot;</span><span class="content">m</span><span class="delimiter">&quot;</span></span>);
var coActors = Cypher.anyNode(<span class="string"><span class="delimiter">&quot;</span><span class="content">coActors</span><span class="delimiter">&quot;</span></span>);
var people = Cypher.node(<span class="string"><span class="delimiter">&quot;</span><span class="content">Person</span><span class="delimiter">&quot;</span></span>).named(<span class="string"><span class="delimiter">&quot;</span><span class="content">people</span><span class="delimiter">&quot;</span></span>);
statement = Cypher
        .match(tom.relationshipTo(movie, <span class="string"><span class="delimiter">&quot;</span><span class="content">ACTED_IN</span><span class="delimiter">&quot;</span></span>).relationshipFrom(coActors, <span class="string"><span class="delimiter">&quot;</span><span class="content">ACTED_IN</span><span class="delimiter">&quot;</span></span>))
        .returning(coActors.property(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>))
        .build();

assertThat(cypherRenderer.render(statement))
        .isEqualTo(
                <span class="string"><span class="delimiter">&quot;</span><span class="content">MATCH (tom:`Person` {name: 'Tom Hanks'})-[:`ACTED_IN`]-&gt;(m)&lt;-[:`ACTED_IN`]-(coActors) RETURN coActors.name</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Listing 11. How people are related to "Cloud Atlas"&#8230;&#8203;</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">cloudAtlas = Cypher.node(<span class="string"><span class="delimiter">&quot;</span><span class="content">Movie</span><span class="delimiter">&quot;</span></span>).withProperties(<span class="string"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>, Cypher.literalOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Cloud Atlas</span><span class="delimiter">&quot;</span></span>));
people = Cypher.node(<span class="string"><span class="delimiter">&quot;</span><span class="content">Person</span><span class="delimiter">&quot;</span></span>).named(<span class="string"><span class="delimiter">&quot;</span><span class="content">people</span><span class="delimiter">&quot;</span></span>);
var relatedTo = people.relationshipBetween(cloudAtlas).named(<span class="string"><span class="delimiter">&quot;</span><span class="content">relatedTo</span><span class="delimiter">&quot;</span></span>);
statement = Cypher
        .match(relatedTo)
        .returning(people.property(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>), Functions.type(relatedTo), relatedTo.getRequiredSymbolicName())
        .build();

assertThat(cypherRenderer.render(statement))
        .isEqualTo(
                <span class="string"><span class="delimiter">&quot;</span><span class="content">MATCH (people:`Person`)-[relatedTo]-(:`Movie` {title: 'Cloud Atlas'}) RETURN people.name, type(relatedTo), relatedTo</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="solve"><a class="anchor" href="#solve"></a>Solve</h5>
<div class="listingblock">
<div class="title">Listing 12. Movies and actors up to 4 "hops" away from Kevin Bacon</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var bacon = Cypher.node(<span class="string"><span class="delimiter">&quot;</span><span class="content">Person</span><span class="delimiter">&quot;</span></span>).named(<span class="string"><span class="delimiter">&quot;</span><span class="content">bacon</span><span class="delimiter">&quot;</span></span>).withProperties(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, Cypher.literalOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Kevin Bacon</span><span class="delimiter">&quot;</span></span>));
var hollywood = Cypher.anyNode(<span class="string"><span class="delimiter">&quot;</span><span class="content">hollywood</span><span class="delimiter">&quot;</span></span>);
var statement = Cypher
        .match(bacon.relationshipBetween(hollywood).length(<span class="integer">1</span>, <span class="integer">4</span>))
        .returningDistinct(hollywood)
        .build();

assertThat(cypherRenderer.render(statement))
        .isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">MATCH (bacon:`Person` {name: 'Kevin Bacon'})-[*1..4]-(hollywood) RETURN DISTINCT hollywood</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="recommend"><a class="anchor" href="#recommend"></a>Recommend</h5>
<div class="listingblock">
<div class="title">Listing 13. Extend Tom Hanks co-actors, to find co-co-actors who haven&#8217;t worked with Tom Hanks&#8230;&#8203;</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var tom = Cypher.node(<span class="string"><span class="delimiter">&quot;</span><span class="content">Person</span><span class="delimiter">&quot;</span></span>).named(<span class="string"><span class="delimiter">&quot;</span><span class="content">tom</span><span class="delimiter">&quot;</span></span>).withProperties(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, Cypher.literalOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Tom Hanks</span><span class="delimiter">&quot;</span></span>));
var coActors = Cypher.anyNode(<span class="string"><span class="delimiter">&quot;</span><span class="content">coActors</span><span class="delimiter">&quot;</span></span>);
var cocoActors = Cypher.anyNode(<span class="string"><span class="delimiter">&quot;</span><span class="content">cocoActors</span><span class="delimiter">&quot;</span></span>);
var strength = Functions.count(Cypher.asterisk()).as(<span class="string"><span class="delimiter">&quot;</span><span class="content">Strength</span><span class="delimiter">&quot;</span></span>);
var statement = Cypher
        .match(
                tom.relationshipTo(Cypher.anyNode(<span class="string"><span class="delimiter">&quot;</span><span class="content">m</span><span class="delimiter">&quot;</span></span>), <span class="string"><span class="delimiter">&quot;</span><span class="content">ACTED_IN</span><span class="delimiter">&quot;</span></span>).relationshipFrom(coActors, <span class="string"><span class="delimiter">&quot;</span><span class="content">ACTED_IN</span><span class="delimiter">&quot;</span></span>),
                coActors.relationshipTo(Cypher.anyNode(<span class="string"><span class="delimiter">&quot;</span><span class="content">m2</span><span class="delimiter">&quot;</span></span>), <span class="string"><span class="delimiter">&quot;</span><span class="content">ACTED_IN</span><span class="delimiter">&quot;</span></span>).relationshipFrom(cocoActors, <span class="string"><span class="delimiter">&quot;</span><span class="content">ACTED_IN</span><span class="delimiter">&quot;</span></span>)
        )
        .where(
                Conditions.not(tom.relationshipTo(Cypher.anyNode(), <span class="string"><span class="delimiter">&quot;</span><span class="content">ACTED_IN</span><span class="delimiter">&quot;</span></span>).relationshipFrom(cocoActors, <span class="string"><span class="delimiter">&quot;</span><span class="content">ACTED_IN</span><span class="delimiter">&quot;</span></span>)))
        .and(tom.isNotEqualTo(cocoActors))
        .returning(
                cocoActors.property(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>).as(<span class="string"><span class="delimiter">&quot;</span><span class="content">Recommended</span><span class="delimiter">&quot;</span></span>),
                strength
        ).orderBy(strength.asName().descending())
        .build();

assertThat(cypherRenderer.render(statement))
        .isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>
                + <span class="string"><span class="delimiter">&quot;</span><span class="content">MATCH </span><span class="delimiter">&quot;</span></span>
                + <span class="string"><span class="delimiter">&quot;</span><span class="content">(tom:`Person` {name: 'Tom Hanks'})-[:`ACTED_IN`]-&gt;(m)&lt;-[:`ACTED_IN`]-(coActors), </span><span class="delimiter">&quot;</span></span>
                + <span class="string"><span class="delimiter">&quot;</span><span class="content">(coActors)-[:`ACTED_IN`]-&gt;(m2)&lt;-[:`ACTED_IN`]-(cocoActors) </span><span class="delimiter">&quot;</span></span>
                + <span class="string"><span class="delimiter">&quot;</span><span class="content">WHERE (NOT (tom)-[:`ACTED_IN`]-&gt;()&lt;-[:`ACTED_IN`]-(cocoActors) AND tom &lt;&gt; cocoActors) </span><span class="delimiter">&quot;</span></span>
                + <span class="string"><span class="delimiter">&quot;</span><span class="content">RETURN cocoActors.name AS Recommended, count(*) AS Strength ORDER BY Strength DESC</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="properties"><a class="anchor" href="#properties"></a>3. Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nodes and Relationships expose properties.
This reflects directly in the Cypher-DSL:</p>
</div>
<div id="properties-on-nodes-and-rel" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var personNode = Cypher.node(<span class="string"><span class="delimiter">&quot;</span><span class="content">Person</span><span class="delimiter">&quot;</span></span>).named(<span class="string"><span class="delimiter">&quot;</span><span class="content">p</span><span class="delimiter">&quot;</span></span>);
var movieNode = Cypher.node(<span class="string"><span class="delimiter">&quot;</span><span class="content">Movie</span><span class="delimiter">&quot;</span></span>);
var ratedRel = personNode.relationshipTo(movieNode, <span class="string"><span class="delimiter">&quot;</span><span class="content">RATED</span><span class="delimiter">&quot;</span></span>).named(<span class="string"><span class="delimiter">&quot;</span><span class="content">r</span><span class="delimiter">&quot;</span></span>);
var statement = Cypher.match(ratedRel)
        .returning(
                personNode.property(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>), <i class="conum" data-value="1"></i><b>(1)</b>
                ratedRel.property(<span class="string"><span class="delimiter">&quot;</span><span class="content">rating</span><span class="delimiter">&quot;</span></span>)) <i class="conum" data-value="2"></i><b>(2)</b>
        .build();

assertThat(cypherRenderer.render(statement))
        .isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">MATCH (p:`Person`)-[r:`RATED`]-&gt;(:`Movie`) RETURN p.name, r.rating</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create a property expression from a <code>Node</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Create a property expression from a <code>Relationship</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Both Node and Relationship should be named as in the example.
The Cypher-DSL generates names if they are not named, to refer to them in the statements.
Without the explicit names, the generated statement would look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="cypher">MATCH (geIcWNUD000:`Person`)-[TqfqBNcc001:`RATED`]-&gt;(:`Movie`) RETURN geIcWNUD000.name, TqfqBNcc001.rating</code></pre>
</div>
</div>
<div class="paragraph">
<p>The name is of course random.</p>
</div>
<div class="paragraph">
<p>The <code>Cypher</code> class exposes the <code>property</code> method, too. This methods takes in one name (as symbolic name or as string literal) OR one expression
and  at least one further string, referring to the name of the property.</p>
</div>
<div class="paragraph">
<p>Passing in a symbolic name would lead to a similar result like in <a href="#properties-on-nodes-and-rel">[properties-on-nodes-and-rel]</a>, an expression can refer
to the results of functions etc.:</p>
</div>
<div id="properties-on-expressions" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var epochSeconds = Cypher.property(Functions.datetime(), <span class="string"><span class="delimiter">&quot;</span><span class="content">epochSeconds</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="1"></i><b>(1)</b>
var statement = Cypher.returning(epochSeconds).build();
Assertions.assertThat(cypherRenderer.render(statement))
        .isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">RETURN datetime().epochSeconds</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Here an expression, the <code>datetime()</code> function is passed in and the <code>epocheSeconds</code> property is dereferenced.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Nested properties are of course possible as well, either directly on nodes and relationships or via the static builder:</p>
</div>
<div id="nested-properties" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var node = Cypher.node(<span class="string"><span class="delimiter">&quot;</span><span class="content">Person</span><span class="delimiter">&quot;</span></span>).named(<span class="string"><span class="delimiter">&quot;</span><span class="content">p</span><span class="delimiter">&quot;</span></span>);

var locationPropV1 = Cypher.property(node.getRequiredSymbolicName(), <span class="string"><span class="delimiter">&quot;</span><span class="content">home.location</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">y</span><span class="delimiter">&quot;</span></span>);
var locationPropV2 = Cypher.property(<span class="string"><span class="delimiter">&quot;</span><span class="content">p</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">home.location</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">y</span><span class="delimiter">&quot;</span></span>);

var statement = Cypher.match(node)
        .where(locationPropV1.gt(Cypher.literalOf(<span class="integer">50</span>)))
        .returning(locationPropV2).build();

assertThat(cypherRenderer.render(statement))
        .isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">MATCH (p:`Person`) WHERE p.`home.location`.y &gt; 50 RETURN p.`home.location`.y</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functions"><a class="anchor" href="#functions"></a>4. Functions</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
There are many more functions implemented in <code>org.neo4j.cypherdsl.core.Functions</code>. Not all of them are already documented here.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="lists"><a class="anchor" href="#lists"></a>4.1. Lists</h3>
<div class="sect3">
<h4 id="functions-list-range"><a class="anchor" href="#functions-list-range"></a>4.1.1. range()</h4>
<div class="paragraph">
<p>Creates an invocation of <a href="https://neo4j.com/docs/cypher-manual/current/functions/list/#functions-range"><code>range()</code></a>.</p>
</div>
<div class="paragraph">
<p>Given the following imports</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.neo4j.cypherdsl.core.Cypher</span>;
<span class="keyword">import</span> <span class="include">org.neo4j.cypherdsl.core.Functions</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var range = Functions.range(<span class="integer">0</span>, <span class="integer">10</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Gives you <code>range(0,10)</code>.
The step size can be specified as well:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var range = Functions.range(<span class="integer">0</span>, <span class="integer">10</span>, <span class="integer">1</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This gives you <code>range(0,10,1)</code>.</p>
</div>
<div class="paragraph">
<p>Both variants of <code>range</code> also take a <code>NumberLiteral</code> for the start and end index and the step size.</p>
</div>
</div>
<div class="sect3">
<h4 id="insertingalistoperator"><a class="anchor" href="#insertingalistoperator"></a>4.1.2. Inserting a list operator</h4>
<div class="paragraph">
<p>The <em>list operator</em> <code>[]</code> selects a specific value of a list or a range of values from a list.
A range can either be closed or open.</p>
</div>
<div class="paragraph">
<p>Find examples to select a value at a given index, a sublist based on a closed range and sublist based on open ranges below.
While the examples use <a href="#functions-list-range">Section 4.1.1</a>, the list operator doesn&#8217;t put any restrictions on the expression at the moment.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Test</span>
<span class="type">void</span> valueAtExample() {

        var range = Functions.range(<span class="integer">0</span>, <span class="integer">10</span>);

        var statement = Cypher.returning(Cypher.valueAt(range, <span class="integer">3</span>)).build();
        assertThat(cypherRenderer.render(statement))
                .isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">RETURN range(0, 10)[3]</span><span class="delimiter">&quot;</span></span>);
}

<span class="annotation">@Test</span>
<span class="type">void</span> subListUntilExample() {

        var range = Functions.range(Cypher.literalOf(<span class="integer">0</span>), Cypher.literalOf(<span class="integer">10</span>));

        var statement = Cypher.returning(Cypher.subListUntil(range, <span class="integer">3</span>)).build();
        assertThat(cypherRenderer.render(statement))
                .isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">RETURN range(0, 10)[..3]</span><span class="delimiter">&quot;</span></span>);
}

<span class="annotation">@Test</span>
<span class="type">void</span> subListFromExample() {

        var range = Functions.range(<span class="integer">0</span>, <span class="integer">10</span>, <span class="integer">1</span>);

        var statement = Cypher.returning(Cypher.subListFrom(range, -<span class="integer">3</span>)).build();
        assertThat(cypherRenderer.render(statement))
                .isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">RETURN range(0, 10, 1)[-3..]</span><span class="delimiter">&quot;</span></span>);
}

<span class="annotation">@Test</span>
<span class="type">void</span> subListExample() {

        var range = Functions.range(Cypher.literalOf(<span class="integer">0</span>), Cypher.literalOf(<span class="integer">10</span>), Cypher.literalOf(<span class="integer">1</span>));

        var statement = Cypher.returning(Cypher.subList(range, <span class="integer">2</span>, <span class="integer">4</span>)).build();
        assertThat(cypherRenderer.render(statement))
                .isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">RETURN range(0, 10, 1)[2..4]</span><span class="delimiter">&quot;</span></span>);
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mathematicalfunctions"><a class="anchor" href="#mathematicalfunctions"></a>4.2. Mathematical functions</h3>
<div class="paragraph">
<p>The Cypher-DSL supports all mathematical functions as of Neo4j 4.2. Please find
their description in the Neo4j cypher manual:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://neo4j.com/docs/cypher-manual/current/functions/mathematical-numeric/">Numeric</a></p>
</li>
<li>
<p><a href="https://neo4j.com/docs/cypher-manual/current/functions/mathematical-logarithmic/">Logarithmic</a></p>
</li>
<li>
<p><a href="https://neo4j.com/docs/cypher-manual/current/functions/mathematical-trigonometric/">Trigonometric</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="callingarbitraryproceduresandfunctions"><a class="anchor" href="#callingarbitraryproceduresandfunctions"></a>4.3. Calling arbitrary procedures and functions</h3>
<div class="paragraph">
<p>Neo4j has plethora of builtin procedures and functions.
The Cypher-DSL does cover a lot of them already, and they can be called in a typesafe way on many <code>Expression</code>-instances
taking in various expressions such as the results of other calls, literals or parameters.</p>
</div>
<div class="paragraph">
<p>However, there will probably always be a gap between what the Cypher-DSL includes and what the Neo4j database brings.
More so, there are fantastic libraries out there like <a href="https://neo4j.com/labs/apoc/">APOC</a>.
APOC has so many procedures and functions in so many categories that it is rather futile to add shims
for all of them consistently.</p>
</div>
<div class="paragraph">
<p>Probably the most important aspect of all: Many Neo4j users bring their knowledge to the database themselves,
in the form of their stored procedures. Those should be callable as well.</p>
</div>
<div class="paragraph">
<p>The Cypher-DSL is flexible enough to call all those procedures and functions.</p>
</div>
<div class="sect3">
<h4 id="callingcustomprocedures"><a class="anchor" href="#callingcustomprocedures"></a>4.3.1. Calling custom procedures</h4>
<div class="paragraph">
<p>Procedures are called via the Cypher <a href="https://neo4j.com/docs/cypher-manual/current/clauses/call/">CALL-Clause</a>.
The CALL-Clause can appear as a <a href="https://s3.amazonaws.com/artifacts.opencypher.org/M15/railroad/StandaloneCall.html">StandAlone call</a>
and as an <a href="https://s3.amazonaws.com/artifacts.opencypher.org/M15/railroad/InQueryCall.html">InQuery call</a>.
Both are supported by the Cypher-DSL.</p>
</div>
<div class="sect4">
<h5 id="standaloneprocedurecalls"><a class="anchor" href="#standaloneprocedurecalls"></a>Standalone procedure calls</h5>
<div class="paragraph">
<p>Standalone calls are particular useful for <code>VOID</code> procedures.
A VOID procedure is a procedure that does not declare any result fields and returns no result records and that has explicitly been declared as <code>VOID</code>.
Let&#8217;s take the first example <a href="https://neo4j.com/docs/cypher-manual/current/clauses/call/#call-call-a-procedure-using-call">from here</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var call = Cypher.call(<span class="string"><span class="delimiter">&quot;</span><span class="content">db</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">labels</span><span class="delimiter">&quot;</span></span>).build(); <i class="conum" data-value="1"></i><b>(1)</b>
assertThat(cypherRenderer.render(call)).isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">CALL db.labels()</span><span class="delimiter">&quot;</span></span>);

call = Cypher.call(<span class="string"><span class="delimiter">&quot;</span><span class="content">db.labels</span><span class="delimiter">&quot;</span></span>).build();  <i class="conum" data-value="2"></i><b>(2)</b>
assertThat(cypherRenderer.render(call)).isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">CALL db.labels()</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>Cypher.call</code> returns a buildable statement that can be rendered.
<code>Cypher.call</code> can be used with separate namespace and procedure name as shown here or</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>with a single argument equal to the name of the procedure.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Of course, arguments can be specified as expressions.
Expressions can be literals as in <a href="#standalone-call-with-args">[standalone-call-with-args]</a>, Cypher parameters (via <code>Cypher.parameter</code>) that bind your input or nested calls:</p>
</div>
<div id="standalone-call-with-args" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var call = Cypher
        .call(<span class="string"><span class="delimiter">&quot;</span><span class="content">dbms.security.createUser</span><span class="delimiter">&quot;</span></span>)
        .withArgs(Cypher.literalOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">johnsmith</span><span class="delimiter">&quot;</span></span>), Cypher.literalOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">h6u4%kr</span><span class="delimiter">&quot;</span></span>), Cypher.literalFalse())
        .build();
assertThat(cypherRenderer.render(call))
        .isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">CALL dbms.security.createUser('johnsmith', 'h6u4%kr', false)</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Last but not least, the Cypher-DSL can of course <code>YIELD</code> the results from a standalone call:</p>
</div>
<div id="standalone-call-yielding" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var call = Cypher.call(<span class="string"><span class="delimiter">&quot;</span><span class="content">dbms.procedures</span><span class="delimiter">&quot;</span></span>).yield(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">signature</span><span class="delimiter">&quot;</span></span>).build(); <i class="conum" data-value="1"></i><b>(1)</b>
assertThat(cypherRenderer.render(call)).isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">CALL dbms.procedures() YIELD name, signature</span><span class="delimiter">&quot;</span></span>);

call = Cypher.call(<span class="string"><span class="delimiter">&quot;</span><span class="content">dbms.procedures</span><span class="delimiter">&quot;</span></span>).yield(Cypher.name(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>), Cypher.name(<span class="string"><span class="delimiter">&quot;</span><span class="content">signature</span><span class="delimiter">&quot;</span></span>)).build(); <i class="conum" data-value="2"></i><b>(2)</b>
assertThat(cypherRenderer.render(call)).isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">CALL dbms.procedures() YIELD name, signature</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Yielded items can be specified via string</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>or with symbolic names created earlier</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A standalone call can spot a <code>WHERE</code> clause as well:</p>
</div>
<div id="standalone-call-where" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var name = Cypher.name(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>);
var call = Cypher
        .call(<span class="string"><span class="delimiter">&quot;</span><span class="content">dbms.listConfig</span><span class="delimiter">&quot;</span></span>)
        .withArgs(Cypher.literalOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">browser</span><span class="delimiter">&quot;</span></span>))
        .yield(name)
        .where(name.matches(<span class="string"><span class="delimiter">&quot;</span><span class="content">browser</span><span class="char">\\</span><span class="content">.allow.*</span><span class="delimiter">&quot;</span></span>))
        .returning(Cypher.asterisk())
        .build();
assertThat(cypherRenderer.render(call)).isEqualTo(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">CALL dbms.listConfig('browser') YIELD name WHERE name =~ 'browser</span><span class="char">\\</span><span class="char">\\</span><span class="content">.allow.*' RETURN *</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="in-queryprocedurecalls"><a class="anchor" href="#in-queryprocedurecalls"></a>In-query procedure calls</h5>
<div class="paragraph">
<p>In-query calls are only possible with non-void procedures. An In-query call happens inside the flow of a normal query.
The mechanics to construct those calls via the Cypher-DSL are identical to standalone calls:</p>
</div>
<div id="in-query-calls" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var label = Cypher.name(<span class="string"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>);
var statement = Cypher
        .match(Cypher.anyNode().named(<span class="string"><span class="delimiter">&quot;</span><span class="content">n</span><span class="delimiter">&quot;</span></span>)).with(<span class="string"><span class="delimiter">&quot;</span><span class="content">n</span><span class="delimiter">&quot;</span></span>)
        .call(<span class="string"><span class="delimiter">&quot;</span><span class="content">db.labels</span><span class="delimiter">&quot;</span></span>).yield(label).with(label)
        .returning(Functions.count(label).as(<span class="string"><span class="delimiter">&quot;</span><span class="content">numLabels</span><span class="delimiter">&quot;</span></span>))
        .build();
assertThat(cypherRenderer.render(statement)).isEqualTo(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">MATCH (n) WITH n CALL db.labels() YIELD label WITH label RETURN count(label) AS numLabels</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>A <code>CALL</code> can be used after a <code>MATCH</code>, a <code>WITH</code> and also a <code>WHERE</code> clause.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="usestored-procedure-callsasexpressionscallingcustomfunctions"><a class="anchor" href="#usestored-procedure-callsasexpressionscallingcustomfunctions"></a>4.3.2. Use stored-procedure-calls as expressions (Calling custom functions)</h4>
<div class="paragraph">
<p>All the mechanics described and shown above - how to define a custom call statement, supply it with arguments etc. - doesn&#8217;t
distinguish between procedures and functions.
Every stored procedure can be treated as a function - as long as the stored procedure returns a single value.
It doesn&#8217;t matter if the single value returns a scalar or a list of objects.
A list of objects is still a single value, in contrast to a stream of objects returned by a non-void procedure.</p>
</div>
<div class="paragraph">
<p>So the question is not how to call a stored custom function, but how to turn a call statement into an expression that can be used in any place in a query where an expression is valid.
This is where <code>asFunction</code> comes in.</p>
</div>
<div id="as-function" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var p = Cypher.node(<span class="string"><span class="delimiter">&quot;</span><span class="content">Person</span><span class="delimiter">&quot;</span></span>).named(<span class="string"><span class="delimiter">&quot;</span><span class="content">p</span><span class="delimiter">&quot;</span></span>);
var createUuid = Cypher.call(<span class="string"><span class="delimiter">&quot;</span><span class="content">apoc.create.uuid</span><span class="delimiter">&quot;</span></span>).asFunction(); <i class="conum" data-value="1"></i><b>(1)</b>
var statement = Cypher.merge(p.withProperties(Cypher.mapOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, createUuid))) <i class="conum" data-value="2"></i><b>(2)</b>
        .set(
                p.property(<span class="string"><span class="delimiter">&quot;</span><span class="content">firstName</span><span class="delimiter">&quot;</span></span>).to(Cypher.literalOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Michael</span><span class="delimiter">&quot;</span></span>)),
                p.property(<span class="string"><span class="delimiter">&quot;</span><span class="content">surname</span><span class="delimiter">&quot;</span></span>).to(Cypher.literalOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hunger</span><span class="delimiter">&quot;</span></span>))
        )
        .returning(p)
        .build();
assertThat(cypherRenderer.render(statement)).isEqualTo(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">MERGE (p:`Person` {id: apoc.create.uuid()}) </span><span class="delimiter">&quot;</span></span>
        + <span class="string"><span class="delimiter">&quot;</span><span class="content">SET p.firstName = 'Michael', p.surname = 'Hunger' </span><span class="delimiter">&quot;</span></span>
        + <span class="string"><span class="delimiter">&quot;</span><span class="content">RETURN p</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>First we define a call as seen earlier and turn it into an expression</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This expression is than used as any other expression</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Of course, arguments to those functions can be express as well. Either as literals or expressions.</p>
</div>
<div id="as-function-with-args" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var p = Cypher.node(<span class="string"><span class="delimiter">&quot;</span><span class="content">Person</span><span class="delimiter">&quot;</span></span>).named(<span class="string"><span class="delimiter">&quot;</span><span class="content">p</span><span class="delimiter">&quot;</span></span>);
var createUuid = Cypher.call(<span class="string"><span class="delimiter">&quot;</span><span class="content">apoc.create.uuid</span><span class="delimiter">&quot;</span></span>).asFunction(); <i class="conum" data-value="1"></i><b>(1)</b>
var toCamelCase = Cypher.call(<span class="string"><span class="delimiter">&quot;</span><span class="content">apoc.text.camelCase</span><span class="delimiter">&quot;</span></span>)
        .withArgs(Cypher.literalOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">first name</span><span class="delimiter">&quot;</span></span>)) <i class="conum" data-value="2"></i><b>(2)</b>
        .asFunction();
var statement = Cypher.merge(p.withProperties(Cypher.mapOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>,
        createUuid)))
        .set(p.property(<span class="string"><span class="delimiter">&quot;</span><span class="content">surname</span><span class="delimiter">&quot;</span></span>).to(Cypher.literalOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Simons</span><span class="delimiter">&quot;</span></span>)))
        .with(p)
        .call(<span class="string"><span class="delimiter">&quot;</span><span class="content">apoc.create.setProperty</span><span class="delimiter">&quot;</span></span>).withArgs(
                p.getRequiredSymbolicName(),
                toCamelCase,
                Cypher.parameter(<span class="string"><span class="delimiter">&quot;</span><span class="content">nameParam</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="3"></i><b>(3)</b>
        ).yield(<span class="string"><span class="delimiter">&quot;</span><span class="content">node</span><span class="delimiter">&quot;</span></span>)
        .returning(<span class="string"><span class="delimiter">&quot;</span><span class="content">node</span><span class="delimiter">&quot;</span></span>)
        .build();
assertThat(cypherRenderer.render(statement)).isEqualTo(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">MERGE (p:`Person` {id: apoc.create.uuid()}) SET p.surname = 'Simons' </span><span class="delimiter">&quot;</span></span>
        + <span class="string"><span class="delimiter">&quot;</span><span class="content">WITH p CALL apoc.create.setProperty(p, apoc.text.camelCase('first name'), $nameParam) </span><span class="delimiter">&quot;</span></span>
        + <span class="string"><span class="delimiter">&quot;</span><span class="content">YIELD node RETURN node</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Same as before</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A call to APOC&#8217;s <code>camelCase</code> function, taking in the literal of <code>first name</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>A call to another APOC function to which a parameter is passed. You find that corresponding placeholder as <code>$nameParam</code> in the following assert</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="summary"><a class="anchor" href="#summary"></a>4.3.3. Summary</h4>
<div class="paragraph">
<p>Through <code>Cypher.call</code> any procedure or function can be called iin case one of your favorite procedures is missing in <code>org.neo4j.cypherdsl.core.Functions</code>.
All clauses, including <code>YIELD</code> and <code>WHERE</code> on procedures are supported.
All procedures can be turned into functions.
The Cypher-DSL however does not check if the procedure that is used as a function is actually eligible to do so.</p>
</div>
<div class="paragraph">
<p>If the Cypher-DSL misses an important builtin Neo4j function, please raise a <a href="https://github.com/neo4j-contrib/cypher-dsl/issues/new">ticket</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix"><a class="anchor" href="#appendix"></a>5. Appendix</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="changelog"><a class="anchor" href="#changelog"></a>Change log</h3>
<div class="sect3">
<h4 id="2020.1"><a class="anchor" href="#2020.1"></a>2020.1</h4>
<div class="sect4">
<h5 id="2020.1.6"><a class="anchor" href="#2020.1.6"></a>2020.1.6</h5>
<div class="paragraph">
<p>No new features.
Re-released 2020.1.5 due downtime and staging issues of oss.sonatype.org.</p>
</div>
</div>
<div class="sect4">
<h5 id="2020.1.5"><a class="anchor" href="#2020.1.5"></a>2020.1.5</h5>
<div class="sect5">
<h6 id="features"><a class="anchor" href="#features"></a> Features</h6>
<div class="ulist">
<ul>
<li>
<p>GH-116 - Add support for creating calls to Neo4j reduce().</p>
</li>
<li>
<p>GH-119 - Add support for passing symbolic names to nodes and relationships functions.</p>
</li>
<li>
<p>GH-117 - Introduce mutating operator.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="2020.1.4"><a class="anchor" href="#2020.1.4"></a>2020.1.4</h5>
<div class="sect5">
<h6 id="features2"><a class="anchor" href="#features2"></a> Features</h6>
<div class="ulist">
<ul>
<li>
<p>GH-114 - Support chained properties.</p>
</li>
<li>
<p>GH-115 - Support named items in YIELD and symbolic names as NamedPath reference.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="2020.1.3"><a class="anchor" href="#2020.1.3"></a>2020.1.3</h5>
<div class="sect5">
<h6 id="features3"><a class="anchor" href="#features3"></a> Features</h6>
<div class="ulist">
<ul>
<li>
<p>GH-111 - Provide a programmatic way of creating an optional match.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="bugfixes"><a class="anchor" href="#bugfixes"></a> Bug Fixes</h6>
<div class="ulist">
<ul>
<li>
<p>GH-110 - Fix collapsing of empty conditions.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="2020.1.2"><a class="anchor" href="#2020.1.2"></a>2020.1.2</h5>
<div class="sect5">
<h6 id="features4"><a class="anchor" href="#features4"></a> Features</h6>
<div class="ulist">
<ul>
<li>
<p>GH-88 - Add support for Neo4j 4.0 subqueries.</p>
</li>
<li>
<p>GH-104 - Add support for merge actions.</p>
</li>
<li>
<p>GH-101 - Introduce asFunction on an ongoing call definition.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="bugfixes2"><a class="anchor" href="#bugfixes2"></a> Bug Fixes</h6>
<div class="ulist">
<ul>
<li>
<p>GH-106 - Escape symbolic names, property lookups, aliases and map keys.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="housekeeping"><a class="anchor" href="#housekeeping"></a> Housekeeping</h6>
<div class="ulist">
<ul>
<li>
<p>GH-105 - Remove ::set-env from GH-Actions ci.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="furtherimprovements"><a class="anchor" href="#furtherimprovements"></a>Further improvements:</h6>
<div class="ulist">
<ul>
<li>
<p>Add support for EXPLAIN and PROFILE keywords.</p>
</li>
<li>
<p>Qualify a yield call (only relevant for JDK15+)</p>
</li>
<li>
<p>Fix wrong offsets in the documentation.</p>
</li>
<li>
<p>Improve JavaDoc and document internal API.</p>
</li>
<li>
<p>Allow <code>WITH</code> clause after <code>YIELD</code>.</p>
</li>
<li>
<p>Improve reusability of fragments.</p>
</li>
<li>
<p>Make ORDER clause buildable.</p>
</li>
<li>
<p>Remove parts of an experimental API.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We do publish the Project info now: <a href="http://neo4j-contrib.github.io/cypher-dsl/current/project-info/project-info.html">Project info</a>,
including the <a href="http://neo4j-contrib.github.io/cypher-dsl/current/project-info/apidocs/index.html">Java API</a>.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="2020.1.1"><a class="anchor" href="#2020.1.1"></a>2020.1.1</h5>
<div class="sect5">
<h6 id="features5"><a class="anchor" href="#features5"></a> Features</h6>
<div class="ulist">
<ul>
<li>
<p>List comprehensions can now be build based on named paths.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="2020.1.0"><a class="anchor" href="#2020.1.0"></a>2020.1.0</h5>
<div class="sect5">
<h6 id="features6"><a class="anchor" href="#features6"></a> Features</h6>
<div class="ulist">
<ul>
<li>
<p>GH-74 - Automatically generate symbolic name if required: <code>Node</code> and <code>Relationship</code> objects generate a symbolic name if required and not set</p>
</li>
<li>
<p>Added several new functions</p>
<div class="ulist">
<ul>
<li>
<p>GH-77 <code>properties()</code></p>
</li>
<li>
<p>GH-81 <code>relationships()</code></p>
</li>
<li>
<p>GH-83 <code>startNode()</code>, <code>endNode()</code>,</p>
</li>
<li>
<p>GH-89 All temporal functions</p>
</li>
</ul>
</div>
</li>
<li>
<p>GH-76 - Added the list operator (<code>[]</code> for accessing sub lists and indexes).</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="bugfixes3"><a class="anchor" href="#bugfixes3"></a> Bug Fixes</h6>
<div class="ulist">
<ul>
<li>
<p>GH-82 - Expose all necessary interfaces for <code>call</code></p>
</li>
<li>
<p>GH-84 - Fix rendering of nested sub trees.</p>
</li>
<li>
<p>GH-95 - NPE during the creation of map projections</p>
</li>
<li>
<p>GH-96 - Make sure aliased expressions are not rendered multiple times.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="housekeeping2"><a class="anchor" href="#housekeeping2"></a> Housekeeping</h6>
<div class="ulist">
<ul>
<li>
<p>GH-67 - Improvements in regards of Java generics.</p>
</li>
<li>
<p>GH-68 - Clean up the Functions api.</p>
</li>
<li>
<p>GH-69 - Avoid star and static imports.</p>
</li>
<li>
<p>GH-72 - Some release cleanup</p>
</li>
<li>
<p>GH-75 - Move Assert to internal utils package.</p>
</li>
<li>
<p>GH-89 - <code>RelationshipDetails</code> is now internal API.</p>
</li>
<li>
<p>GH-93 - Ensure compatibility with GraalVM native.</p>
</li>
<li>
<p>GH-94 - Bring back SymbolicName#concat.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="2020.0"><a class="anchor" href="#2020.0"></a>2020.0</h4>
<div class="sect4">
<h5 id="2020.0.1"><a class="anchor" href="#2020.0.1"></a>2020.0.1</h5>
<div class="paragraph">
<p>This is the first patch release for the rebooted Cypher-DSL project.</p>
</div>
<div class="sect5">
<h6 id="features7"><a class="anchor" href="#features7"></a> Features</h6>
<div class="ulist">
<ul>
<li>
<p>GH-64 - Add function invocation for builtin point function.</p>
</li>
<li>
<p>GH-65 - Add support for defining calls to stored procedures.</p>
</li>
<li>
<p><code>Cypher.literalOf</code> accepts now <code>boolean</code> values as well</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="housekeeping3"><a class="anchor" href="#housekeeping3"></a> Housekeeping</h6>
<div class="ulist">
<ul>
<li>
<p>Improvements to the manual and Java Docs.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Thanks to @Andy2003 for contributing to this release.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="2020.0.0"><a class="anchor" href="#2020.0.0"></a>2020.0.0</h5>
<div class="paragraph">
<p>This is the first version of the rebooted Neo4j Cypher-DSL project. This version has been extracted from <a href="https://github.com/neo4j/sdn-rx">SDN-RX</a>.</p>
</div>
<div class="paragraph">
<p>It&#8217;s a completely revamped API and we use it in all places in SDN/RX for generating Cypher-Queries.</p>
</div>
<div class="paragraph">
<p>We use <a href="https://calver.org">CalVer</a> in the same way Spring does
since early 2020 (see <a href="https://spring.io/blog/2020/04/30/updates-to-spring-versions">Updates to Spring Versions</a>) from this release onwards.</p>
</div>
<div class="paragraph">
<p>You&#8217;ll find the manual of the latest release version under <a href="http://neo4j-contrib.github.io/cypher-dsl/current/" class="bare">http://neo4j-contrib.github.io/cypher-dsl/current/</a> and the current development version - or <em>main</em> - under <a href="http://neo4j-contrib.github.io/cypher-dsl/main/" class="bare">http://neo4j-contrib.github.io/cypher-dsl/main/</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-02-10 21:33:13 UTC
</div>
</div>
</body>
</html>